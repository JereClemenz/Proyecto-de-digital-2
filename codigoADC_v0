    LIST P=16F887
    #include <p16f887.inc>
    
; CONFIG1
; __config 0x23F5
 __CONFIG _CONFIG1, _FOSC_INTRC_CLKOUT & _WDTE_OFF & _PWRTE_OFF & _MCLRE_ON & _CP_OFF & _CPD_OFF & _BOREN_ON & _IESO_OFF & _FCMEN_OFF & _LVP_OFF
; CONFIG2
; __config 0x3FFF
 __CONFIG _CONFIG2, _BOR4V_BOR40V & _WRT_OFF
    
    CBLOCK 0X20
    FLAG 
    CONTADOR
    UN_SEGUNDO
    W_TEMP
    STATUS_TEMP
    LIMITADOR
    ENDC
    
	ORG 0x00
	GOTO    MAIN
	ORG 0x04
	GOTO    INTERRUPCION
	
	ORG 0x5
MAIN
	 BANKSEL    ANSEL;CONFIGURO EL ANSEL PARA Q TODAS LAS ENTRADAS SEAN DIG
	 CLRF	    ANSEL
	 BSF	    ANSEL,0
	 CLRF	    ANSELH
	 
	 BANKSEL    ADCON1
	 MOVLW	    B'10000000'
	 MOVWF	    ADCON1
	 
	 CLRF	    TRISA
	 BSF	    TRISA,0
	 CLRF	    TRISD
	 
	 BANKSEL    ADCON0
	 MOVLW	    B'01000001';GO/DONE NO ESTA ACTIVO AUN
	 MOVWF	    ADCON0
	 
	 
	 BCF	    PIR1,ADIF
	 BSF	    STATUS,RP0;ME VOY AL BANCO 1
	 BSF	    PIE1,ADIE
	 BCF	    STATUS,RP0;ME VOY AL BANCO 0
	 BSF	    ADCON0,1;SETEO EL GO/DONE
	 BSF	    INTCON,PEIE
	 BSF	    INTCON,GIE
	 
	 GOTO $
	 
INTERRUPCION
	 MOVF	    ADRESH,W
	 MOVWF	    PORTD
	 
	 
	 BSF	    ADCON0,1;SETEO EL GO/DONE
	 BCF	    PIR1,ADIF
	 RETFIE
	 
	 END
